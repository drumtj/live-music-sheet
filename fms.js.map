{"version":3,"sources":["webpack://FMS/webpack/bootstrap","webpack://FMS/./lib/fms.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","VF","version","noteToMidiMap","C0","C#0","D0","D#0","E0","F0","F#0","G0","G#0","A0","A#0","B0","C1","C#1","D1","D#1","E1","F1","F#1","G1","G#1","A1","A#1","B1","C2","C#2","D2","D#2","E2","F2","F#2","G2","G#2","A2","A#2","B2","C3","C#3","D3","D#3","E3","F3","F#3","G3","G#3","A3","A#3","B3","C4","C#4","D4","D#4","E4","F4","F#4","G4","G#4","A4","A#4","B4","C5","C#5","D5","D#5","E5","F5","F#5","G5","G#5","A5","A#5","B5","C6","C#6","D6","D#6","E6","F6","F#6","G6","G#6","A6","A#6","B6","C7","C#7","D7","D#7","E7","F7","F#7","G7","G#7","A7","A#7","B7","C8","C#8","D8","D#8","E8","F8","F#8","G8","G#8","A8","A#8","B8","C9","keyMap","C","bass","G","D","A","E","B","F#","C#","F","Bb","Eb","Ab","Db","Gb","Cb","Em","Bm","F#m","C#m","G#m","D#m","A#m","Dm","Gm","Cm","Fm","Bbm","Ebm","Abm","scoreTable","1","score","dot","beat","b64","b16","2","3","4","6","7","8","12","14","16","24","28","32","48","56","64","96","112","downConvertNoteMap","downConvertNote","note","split","toMidi","sortNote","notes","desc","sort","a","b","convertKey","indexOf","scoreIndex64b","keys","map","parseInt","sil","length","fillRed","fillStyle","strokeStyle","b64Split","Error","subCount","duration","push","noteParseExp","REST_NOTE_KEY","b64ToDuration","rest","makeRestNoteInfoSplitRest","offset","subOffset","rn","endB64","isRest","fixedRest","tieTail","tieHead","createStaveNote","noteInfo","keyDiff","info","ac","forEach","match","accidentals","noteToVFFormat2","sn","StaveNote","auto_stem","addAccidental","Accidental","str","result","charCount","addDotToAll","clearDrawNote","staveNote","_el","parentElement","removeChild","clearDrawBeam","beam","clearDrawBeamStem","_beamStem_el","drawNoteOn","just","style","context","openGroup","getAttribute","setStyle","pointerBBox","hasStem","drawStem","flag","drawFlag","drawNoteHeads","closeGroup","drawModifiers","drawNote","setFillStyle","setStrokeStyle","drawBeamLines","drawBeam","_highlighted","stem","draw","drawBeamStem","t64","noteOnList","noteOff","isOn","id","drawNoteOff","defaultDrawOption","topMargin","leftMargin","measureWidth","groupGap","partGap","data","options","console","error","lineList","tdata","ti","line","ndata","ni","bi","bars","Math","floor","parseFloat","round","bar","concat","reduce","voice","voices","lastNote","vi","voiceIndex","li","prevB64","prevLength","tempArr","newVoice","apply","_toConsumableArray","sliceB64","nextBar","nextVoice","unshift","b64Offset","arr","assign","yfix","_newVoice","_newVoice2","offsetEnd","convertToVexFlowData","bpm","noteC","nodeLength","trackLength","ctx","vexflowData","startBarNum","el","document","firstChild","renderer","Renderer","tagName","Backends","CANVAS","SVG","getContext","setFont","setBackgroundFillStyle","voiceMax","barMax","lineMax","beamsList","stavesList","tiesList","resize","ceil","staves","ties","StaveTie","first_note","last_note","first_indices","last_indices","Voice","num_beats","beat_value","addTickables","setMode","Mode","SOFT","_loop","stave","Stave","addClef","addKeySignature","addTimeSignature","setText","StaveModifier","Position","LEFT","shift_x","shift_y","_isStartMeasure","setTempo","setContext","Beam","applyAndGetBeams","Formatter","joinVoices","formatToStave","connectorList","sc","StaveConnector","setType","type","BRACE","beams","voiceList","redraw","j","clear","drawNotation","Tone","Time","toSeconds","sync","opt","startNote","currentStave","isScrolling","scrollContainer","part","Part","time","Draw","schedule","_stopped","clearNoteOnList","e","noteOn","con","staveY","y","scrollTop","scrollOffset","window","innerHeight","scrollTo","offPart","start","this","at","stop","cancel","setLineList","list","removeAll","add","Date","now","random","createSync","scroll","eval","loader","max","each","done","evalList","load","src","xhr","XMLHttpRequest","open","onreadystatechange","readyState","status","v","loadComplete","responseText","send","_list","_each","_done","ready","go","instName","instrument","autoStart","loadAndInit","msg","addEventListener","rootClick","removeEventListener","instList","x","g","createNSElement","bgRect","width","height","fill","stroke","btn","createButton","click","rect","getBoundingClientRect","setAttribute","init","progressText","attr","parant","createElementNS","textContent","appendChild","setTimeout","base64ToFloat32Array","dataURI","base64Index","BASE64_MARKER","base64","substring","blob","atob","fLen","Float32Array","BYTES_PER_ELEMENT","dView","DataView","ArrayBuffer","fAry","setUint8","charCodeAt","getFloat32","base64ToBuffer","binary","buffer","bytes","Uint8Array","byteLength","synth","convertDataURIToBinary","raw","rawLength","array","getSoundfontUrl","sf","format","text","parent","transform","txt","color","getBBox","cursor","insertBefore","_text","_rect","playData","totalTime","parts","highlight","playSynthFunc","isReady","endScheduleId","Vex","Flow","Transport","sample","base64Sample","Soundfont","URL","createObjectURL","Blob","Players","toMaster","durations","tick","callback","track","rr","node","startTime","undefined","createPlayData","events","last","maxDu","getTotalTime","play","setColor","activeColor","deactiveColor","state"],"mappings":"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M,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,MAAOC,KAAQ,CAAC,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,MAAOC,EAAK,CAAC,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,OAAQC,EAAK,CAAC,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,OAAQC,EAAK,CAAC,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,OAAQC,EAAK,CAAC,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,OAAQC,EAAK,CAAC,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,OAAQC,KAAM,CAAC,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAOC,KAAM,CAAC,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,MAAOC,EAAK,CAAC,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,MAAOC,GAAM,CAAC,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,MAAOC,GAAM,CAAC,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,MAAOC,GAAM,CAAC,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,MAAOC,GAAM,CAAC,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,MAAOC,GAAM,CAAC,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAOC,GAAM,CAAC,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,OAAQC,GAAM,CAAC,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,OAAQC,GAAM,CAAC,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,OAAQC,MAAO,CAAC,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,OAAQC,MAAO,CAAC,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,OAAQC,MAAO,CAAC,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,OAAQC,MAAO,CAAC,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAOC,MAAO,CAAC,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,MAAOC,GAAM,CAAC,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,MAAOC,GAAM,CAAC,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,MAAOC,GAAM,CAAC,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,MAAOC,GAAM,CAAC,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,MAAOC,IAAO,CAAC,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,MAAOC,IAAO,CAAC,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAOC,IAAO,CAAC,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,MAAO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","file":"./fms.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","var version = \"0.38\";\r\nfunction createPlayData(data) {\r\n    let t = Tone.Time(\"16n\").toSeconds();\r\n    return data.data.map(function (track) {\r\n        let rr = [];\r\n        track.data.forEach(function (node, i) {\r\n            if (!node)\r\n                return;\r\n            let r = [];\r\n            let startTime = i * 32 * t;\r\n            let ndata = node.data;\r\n            for (let note in ndata) {\r\n                for (let x in ndata[note]) {\r\n                    if (parseFloat(x) >= 32)\r\n                        continue;\r\n                    if (r[x] == undefined)\r\n                        r[x] = [[], []];\r\n                    r[x][0].push(note);\r\n                    r[x][1].push(ndata[note][x]);\r\n                }\r\n            }\r\n            let info;\r\n            for (let time in r) {\r\n                if (r[time]) {\r\n                    info = { beat: parseInt(time) };\r\n                    info.notes = r[time][0];\r\n                    info.durations = r[time][1].map(l => Math.floor(l * t * 10000) / 10000);\r\n                    rr.push([Math.floor((parseFloat(time) * t + startTime) * 10000) / 10000, info]);\r\n                }\r\n            }\r\n        });\r\n        return rr.sort((a, b) => a[0] > b[0] ? 1 : -1);\r\n    });\r\n}\r\nfunction schedule(playData, callback) {\r\n    console.error(\"start schedule\");\r\n    return playData.map(events => {\r\n        return new Tone.Part((time, noteInfo) => {\r\n            if (noteInfo.notes) {\r\n                callback(noteInfo, time);\r\n            }\r\n        }, events);\r\n    });\r\n}\r\nvar VF;\r\nconst noteToMidiMap = { \"C0\": 0, \"C#0\": 1, \"D0\": 2, \"D#0\": 3, \"E0\": 4, \"F0\": 5, \"F#0\": 6, \"G0\": 7, \"G#0\": 8, \"A0\": 9, \"A#0\": 10, \"B0\": 11, \"C1\": 12, \"C#1\": 13, \"D1\": 14, \"D#1\": 15, \"E1\": 16, \"F1\": 17, \"F#1\": 18, \"G1\": 19, \"G#1\": 20, \"A1\": 21, \"A#1\": 22, \"B1\": 23, \"C2\": 24, \"C#2\": 25, \"D2\": 26, \"D#2\": 27, \"E2\": 28, \"F2\": 29, \"F#2\": 30, \"G2\": 31, \"G#2\": 32, \"A2\": 33, \"A#2\": 34, \"B2\": 35, \"C3\": 36, \"C#3\": 37, \"D3\": 38, \"D#3\": 39, \"E3\": 40, \"F3\": 41, \"F#3\": 42, \"G3\": 43, \"G#3\": 44, \"A3\": 45, \"A#3\": 46, \"B3\": 47, \"C4\": 48, \"C#4\": 49, \"D4\": 50, \"D#4\": 51, \"E4\": 52, \"F4\": 53, \"F#4\": 54, \"G4\": 55, \"G#4\": 56, \"A4\": 57, \"A#4\": 58, \"B4\": 59, \"C5\": 60, \"C#5\": 61, \"D5\": 62, \"D#5\": 63, \"E5\": 64, \"F5\": 65, \"F#5\": 66, \"G5\": 67, \"G#5\": 68, \"A5\": 69, \"A#5\": 70, \"B5\": 71, \"C6\": 72, \"C#6\": 73, \"D6\": 74, \"D#6\": 75, \"E6\": 76, \"F6\": 77, \"F#6\": 78, \"G6\": 79, \"G#6\": 80, \"A6\": 81, \"A#6\": 82, \"B6\": 83, \"C7\": 84, \"C#7\": 85, \"D7\": 86, \"D#7\": 87, \"E7\": 88, \"F7\": 89, \"F#7\": 90, \"G7\": 91, \"G#7\": 92, \"A7\": 93, \"A#7\": 94, \"B7\": 95, \"C8\": 96, \"C#8\": 97, \"D8\": 98, \"D#8\": 99, \"E8\": 100, \"F8\": 101, \"F#8\": 102, \"G8\": 103, \"G#8\": 104, \"A8\": 105, \"A#8\": 106, \"B8\": 107, \"C9\": 108 };\r\nconst keyMap = { \"C\": [\"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\", \"F#8\", \"G8\", \"G#8\", \"A8\", \"A#8\", \"B8\"], \"bass\": [\"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\", \"F#8\", \"G8\", \"G#8\", \"A8\"], \"G\": [\"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\", \"F#8\"], \"D\": [\"D0\", \"D#0\", \"E0\", \"F0\", \"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\"], \"A\": [\"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\", \"F#8\", \"G8\", \"G#8\"], \"E\": [\"E0\", \"F0\", \"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\"], \"B\": [\"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\", \"F#8\", \"G8\", \"G#8\", \"A8\", \"A#8\"], \"F#\": [\"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\"], \"C#\": [\"C#0\", \"D0\", \"D#0\", \"E0\", \"F0\", \"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\"], \"F\": [\"F0\", \"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\"], \"Bb\": [\"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\", \"F#8\", \"G8\", \"G#8\", \"A8\"], \"Eb\": [\"D#0\", \"E0\", \"F0\", \"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\"], \"Ab\": [\"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\", \"F#8\", \"G8\"], \"Db\": [\"C#0\", \"D0\", \"D#0\", \"E0\", \"F0\", \"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\"], \"Gb\": [\"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\"], \"Cb\": [\"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\", \"F#8\", \"G8\", \"G#8\", \"A8\", \"A#8\"], \"Em\": [\"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\", \"F#8\"], \"Bm\": [\"D0\", \"D#0\", \"E0\", \"F0\", \"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\"], \"F#m\": [\"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\", \"F#8\", \"G8\", \"G#8\"], \"C#m\": [\"E0\", \"F0\", \"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\"], \"G#m\": [\"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\", \"F#8\", \"G8\", \"G#8\", \"A8\", \"A#8\"], \"D#m\": [\"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\"], \"A#m\": [\"C#0\", \"D0\", \"D#0\", \"E0\", \"F0\", \"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\"], \"Dm\": [\"F0\", \"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\"], \"Gm\": [\"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\", \"F#8\", \"G8\", \"G#8\", \"A8\"], \"Cm\": [\"D#0\", \"E0\", \"F0\", \"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\"], \"Fm\": [\"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\", \"F#8\", \"G8\"], \"Bbm\": [\"C#0\", \"D0\", \"D#0\", \"E0\", \"F0\", \"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\"], \"Ebm\": [\"F#0\", \"G0\", \"G#0\", \"A0\", \"A#0\", \"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\"], \"Abm\": [\"B0\", \"C1\", \"C#1\", \"D1\", \"D#1\", \"E1\", \"F1\", \"F#1\", \"G1\", \"G#1\", \"A1\", \"A#1\", \"B1\", \"C2\", \"C#2\", \"D2\", \"D#2\", \"E2\", \"F2\", \"F#2\", \"G2\", \"G#2\", \"A2\", \"A#2\", \"B2\", \"C3\", \"C#3\", \"D3\", \"D#3\", \"E3\", \"F3\", \"F#3\", \"G3\", \"G#3\", \"A3\", \"A#3\", \"B3\", \"C4\", \"C#4\", \"D4\", \"D#4\", \"E4\", \"F4\", \"F#4\", \"G4\", \"G#4\", \"A4\", \"A#4\", \"B4\", \"C5\", \"C#5\", \"D5\", \"D#5\", \"E5\", \"F5\", \"F#5\", \"G5\", \"G#5\", \"A5\", \"A#5\", \"B5\", \"C6\", \"C#6\", \"D6\", \"D#6\", \"E6\", \"F6\", \"F#6\", \"G6\", \"G#6\", \"A6\", \"A#6\", \"B6\", \"C7\", \"C#7\", \"D7\", \"D#7\", \"E7\", \"F7\", \"F#7\", \"G7\", \"G#7\", \"A7\", \"A#7\", \"B7\", \"C8\", \"C#8\", \"D8\", \"D#8\", \"E8\", \"F8\", \"F#8\", \"G8\", \"G#8\", \"A8\", \"A#8\"] };\r\nlet scoreTable = {\r\n    \"1\": { score: 64, dot: \"\", beat: 0.0625, b64: 1, b16: 0.25 },\r\n    \"2\": { score: 32, dot: \"\", beat: 0.125, b64: 2, b16: 0.5 },\r\n    \"3\": { score: 32, dot: \"d\", beat: 0.1875, b64: 3, b16: 0.75 },\r\n    \"4\": { score: 16, dot: \"\", beat: 0.25, b64: 4, b16: 1 },\r\n    \"6\": { score: 16, dot: \"d\", beat: 0.375, b64: 6, b16: 1.5 },\r\n    \"7\": { score: 16, dot: \"dd\", beat: 0.4375, b64: 7, b16: 1.75 },\r\n    \"8\": { score: 8, dot: \"\", beat: 0.5, b64: 8, b16: 2 },\r\n    \"12\": { score: 8, dot: \"d\", beat: 0.75, b64: 12, b16: 3 },\r\n    \"14\": { score: 8, dot: \"dd\", beat: 0.875, b64: 14, b16: 3.5 },\r\n    \"16\": { score: 4, dot: \"\", beat: 1, b64: 16, b16: 4 },\r\n    \"24\": { score: 4, dot: \"d\", beat: 1.5, b64: 24, b16: 6 },\r\n    \"28\": { score: 4, dot: \"dd\", beat: 1.75, b64: 28, b16: 7 },\r\n    \"32\": { score: 2, dot: \"\", beat: 2, b64: 32, b16: 8 },\r\n    \"48\": { score: 2, dot: \"d\", beat: 3, b64: 48, b16: 12 },\r\n    \"56\": { score: 2, dot: \"dd\", beat: 3.5, b64: 56, b16: 14 },\r\n    \"64\": { score: 1, dot: \"\", beat: 4, b64: 64, b16: 16 },\r\n    \"96\": { score: 1, dot: \"d\", beat: 6, b64: 96, b16: 24 },\r\n    \"112\": { score: 1, dot: \"dd\", beat: 7, b64: 112, b16: 28 }\r\n};\r\nconst downConvertNoteMap = {\r\n    C: \"B\", D: \"C\", E: \"D\", F: \"E\", G: \"F\", A: \"G\", B: \"A\"\r\n};\r\nexport const downConvertNote = note => {\r\n    let c = note.split('');\r\n    if (c[1] == \"b\") {\r\n        return downConvertNoteMap[c[0]] + (c[0] == \"F\" || c[0] == \"C\" ? \"\" : \"#\") + c[2];\r\n    }\r\n    return note;\r\n};\r\nexport const toMidi = (note) => {\r\n    return noteToMidiMap[note];\r\n};\r\nconst sortNote = (notes, desc) => {\r\n    if (desc) {\r\n        return notes.sort((a, b) => noteToMidiMap[b] - noteToMidiMap[a]);\r\n    }\r\n    else {\r\n        return notes.sort((b, a) => noteToMidiMap[b] - noteToMidiMap[a]);\r\n    }\r\n};\r\nconst convertKey = (note, key) => {\r\n    let i = keyMap[\"C\"].indexOf(note);\r\n    return keyMap[key][i];\r\n};\r\nlet scoreIndex64b = Object.keys(scoreTable).map(n => parseInt(n)).sort((a, b) => -a - b);\r\nlet sil = scoreIndex64b.length;\r\nlet fillRed = { fillStyle: \"red\", strokeStyle: \"red\" };\r\nlet fillBlack = { fillStyle: \"black\", strokeStyle: \"black\" };\r\nfunction b64ToDurations(b64, rest) {\r\n    let r = rest ? \"r\" : \"\";\r\n    return b64Split(b64).map(b => scoreTable[b].score + scoreTable[b].dot + r);\r\n}\r\nfunction b64Split(b64) {\r\n    if (b64 <= 0) {\r\n        throw new Error(\"wrong param\");\r\n    }\r\n    let subCount = -1;\r\n    let duration = [];\r\n    while (1) {\r\n        if (scoreTable[b64]) {\r\n            duration.push(scoreTable[b64].b64);\r\n            if (subCount == -1) {\r\n                break;\r\n            }\r\n            else {\r\n                b64 = subCount;\r\n                subCount = -1;\r\n            }\r\n        }\r\n        else {\r\n            for (let i = 0; i < sil; i++) {\r\n                if (b64 >= scoreIndex64b[i]) {\r\n                    subCount = b64 - scoreIndex64b[i];\r\n                    b64 = scoreIndex64b[i];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return duration;\r\n}\r\nlet noteParseExp = /^([a-gA-G])([#b]+)?([0-9])$/;\r\nfunction noteToVFFormat(note) {\r\n    let m = note.match(noteParseExp);\r\n    if (m) {\r\n        return {\r\n            note: m[1] + (m[2] || \"\") + '/' + m[3],\r\n            accidental: m[2]\r\n        };\r\n    }\r\n    return null;\r\n}\r\nfunction noteToVFFormat2(notes) {\r\n    let ns = [], ac = [];\r\n    notes.forEach(note => {\r\n        let m = note.match(noteParseExp);\r\n        if (m) {\r\n            ns.push(m[1] + (m[2] || \"\") + '/' + m[3]);\r\n            ac.push(m[2]);\r\n        }\r\n        else {\r\n            ns.push(null);\r\n            ac.push(null);\r\n        }\r\n    });\r\n    return {\r\n        notes: ns,\r\n        accidentals: ac\r\n    };\r\n}\r\nfunction charCount(str, c) {\r\n    var result = 0, i = 0, l = str.length;\r\n    for (i; i < l; i++)\r\n        if (str[i] == c)\r\n            result++;\r\n    return result;\r\n}\r\n;\r\nconst REST_NOTE_KEY = \"c5\";\r\nfunction b64ToDuration(b64, rest) {\r\n    if (scoreTable[b64]) {\r\n        return scoreTable[b64].score + scoreTable[b64].dot + (rest ? \"r\" : \"\");\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\nfunction makeRestNoteInfoSplitRest(note, offset, length) {\r\n    let subOffset = offset;\r\n    let notes = b64Split(length).map(b => {\r\n        let rn = {\r\n            note: [note || REST_NOTE_KEY],\r\n            b64: subOffset,\r\n            length: b,\r\n            endB64: subOffset + b - 1,\r\n            duration: b64ToDuration(b, true),\r\n            isRest: true,\r\n            fixedRest: !note ? true : false\r\n        };\r\n        subOffset += b;\r\n        return rn;\r\n    });\r\n    if (notes.length > 1) {\r\n        notes[0].tieTail = notes[notes.length - 1];\r\n        notes[notes.length - 1].tieHead = notes[0];\r\n    }\r\n    return notes;\r\n}\r\nfunction createStaveNote(noteInfo, keyDiff) {\r\n    let notes = noteInfo.note;\r\n    if (keyDiff) {\r\n        if (!noteInfo.isRest || !noteInfo.fixedRest) {\r\n            notes = notes.map(note => {\r\n                return convertKey(note, keyDiff);\r\n            });\r\n        }\r\n    }\r\n    let info = noteToVFFormat2(notes);\r\n    let sn = new VF.StaveNote({ keys: info.notes, duration: noteInfo.duration, auto_stem: true });\r\n    if (!noteInfo.isRest) {\r\n        info.accidentals.forEach((ac, i) => {\r\n            if (ac)\r\n                sn.addAccidental(i, new VF.Accidental(ac));\r\n        });\r\n    }\r\n    let l = charCount(noteInfo.duration, 'd');\r\n    for (let i = 0; i < l; i++) {\r\n        sn.addDotToAll();\r\n    }\r\n    return sn;\r\n}\r\nfunction convertToVexFlowData(data) {\r\n    return data.map((tdata, ti) => {\r\n        let line = [];\r\n        tdata.data.forEach((ndata, ni) => {\r\n            if (ndata) {\r\n                let bars = [[], []], note, beat, bi;\r\n                for (note in ndata.data) {\r\n                    for (beat in ndata.data[note]) {\r\n                        bi = Math.floor(parseFloat(beat) / 16);\r\n                        let n = { note: note, b64: Math.round((ni * 32 + parseFloat(beat)) * 4), length: Math.round(ndata.data[note][beat] * 4) };\r\n                        n.endB64 = n.b64 + n.length - 1;\r\n                        bars[bi].push(n);\r\n                    }\r\n                }\r\n                bars.forEach(bar => {\r\n                    bar.sort((a, b) => a.b64 - b.b64);\r\n                });\r\n                line = line.concat(bars);\r\n            }\r\n            else if (ti < tdata.data.length - 1) {\r\n                line.push([], []);\r\n            }\r\n        });\r\n        let notes = line.reduce((r, bar) => r.concat(bar), []);\r\n        notes.sort((a, b) => a.b64 == b.b64 ? a.length - b.length : a.b64 - b.b64);\r\n        let voices = [], voice, p;\r\n        notes.forEach(note => {\r\n            p = 0;\r\n            while (1) {\r\n                if (!voices[p])\r\n                    voices[p] = [];\r\n                voice = voices[p];\r\n                let lastNote = voice.length ? voice[voice.length - 1] : null;\r\n                if (lastNote == null || note.b64 > lastNote.endB64 || (note.b64 == lastNote.b64 && note.length == lastNote.length)) {\r\n                    voice.push(note);\r\n                    break;\r\n                }\r\n                else {\r\n                    p++;\r\n                }\r\n                if (p > 100) {\r\n                    console.error(\"??!!\");\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n        voices.forEach((voice, vi) => voice.forEach(note => note.voiceIndex = vi));\r\n        for (let li = 0; li < line.length; li++) {\r\n            let bar = line[li];\r\n            if (bar.length) {\r\n                line[li] = bar.reduce((r, note) => {\r\n                    if (!r[note.voiceIndex])\r\n                        r[note.voiceIndex] = [];\r\n                    r[note.voiceIndex].push(note);\r\n                    return r;\r\n                }, []);\r\n            }\r\n            else {\r\n                line[li] = [[]];\r\n            }\r\n        }\r\n        line.forEach((bar, li) => {\r\n            bar.forEach(voice => {\r\n                let prevB64, prevLength, tempArr, newVoice;\r\n                newVoice = voice.sort((a, b) => a.b64 == b.b64 ? a.length - b.length : a.b64 - b.b64)\r\n                    .reduce((r, note, i) => {\r\n                    if (note.b64 == prevB64 && note.length == prevLength) {\r\n                        tempArr.push(note.note);\r\n                    }\r\n                    else {\r\n                        prevB64 = note.b64;\r\n                        prevLength = note.length;\r\n                        note.note = [note.note];\r\n                        tempArr = note.note;\r\n                        r.push(note);\r\n                    }\r\n                    return r;\r\n                }, []);\r\n                newVoice.forEach(voice => {\r\n                    if (voice.note.length > 1) {\r\n                        sortNote(voice.note);\r\n                    }\r\n                });\r\n                voice.length = 0;\r\n                voice.push(...newVoice);\r\n            });\r\n        });\r\n        let fb64 = 16 * 4;\r\n        line.forEach((bar, li) => {\r\n            let bars = [bar];\r\n            bar.forEach((voice, vi) => {\r\n                let lastNote = voice[voice.length - 1];\r\n                if (lastNote) {\r\n                    let sliceB64 = (li + 1) * fb64;\r\n                    if (lastNote.endB64 >= sliceB64) {\r\n                        let nextBar, nextVoice;\r\n                        if (li == line.length - 1) {\r\n                            nextVoice = [];\r\n                            nextBar = [nextVoice];\r\n                        }\r\n                        else {\r\n                            nextBar = line[li + 1];\r\n                            if (!nextBar[vi]) {\r\n                                nextVoice = [];\r\n                                nextBar[vi] = nextVoice;\r\n                            }\r\n                            else {\r\n                                nextVoice = nextBar[vi];\r\n                            }\r\n                        }\r\n                        let n = { note: lastNote.note, b64: sliceB64, length: lastNote.endB64 - sliceB64 + 1 };\r\n                        n.endB64 = n.b64 + n.length - 1;\r\n                        n.voiceIndex = lastNote.voiceIndex;\r\n                        nextVoice.unshift(n);\r\n                        lastNote.endB64 = sliceB64 - 1;\r\n                        lastNote.length = lastNote.endB64 - lastNote.b64 + 1;\r\n                        lastNote.tieTail = n;\r\n                        n.tieHead = lastNote;\r\n                        if (li == line.length - 1) {\r\n                            line.push(nextBar);\r\n                            bars.push(nextBar);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            bars.forEach(bar => {\r\n                bar.forEach(voice => {\r\n                    let newVoice = voice.reduce((r, note) => {\r\n                        let b64Offset = note.b64;\r\n                        let notes = b64Split(note.length).map((b, bi, arr) => {\r\n                            let n = Object.assign({}, note);\r\n                            delete n.tieTail;\r\n                            delete n.tieHead;\r\n                            n.b64 = b64Offset;\r\n                            n.length = b;\r\n                            n.endB64 = n.b64 + n.length - 1;\r\n                            b64Offset += b;\r\n                            return n;\r\n                        });\r\n                        if (note.tieHead) {\r\n                            note.tieHead.tieTail = notes[notes.length - 1];\r\n                            notes[notes.length - 1].tieHead = note.tieHead;\r\n                        }\r\n                        else if (note.tieTail) {\r\n                            notes[0].tieTail = note.tieTail;\r\n                            note.tieTail.tieHead = notes[0];\r\n                        }\r\n                        else if (notes.length > 1) {\r\n                            notes[0].tieTail = notes[notes.length - 1];\r\n                            notes[notes.length - 1].tieHead = notes[0];\r\n                        }\r\n                        return r.concat(notes);\r\n                    }, []);\r\n                    voice.length = 0;\r\n                    voice.push(...newVoice);\r\n                });\r\n            });\r\n        });\r\n        line.forEach((bar, li) => {\r\n            let yfix = bar.length == 1;\r\n            bar.forEach(voice => {\r\n                let newVoice;\r\n                let offset = li * fb64;\r\n                let offsetEnd = offset + fb64;\r\n                newVoice = voice.reduce((r, note, i) => {\r\n                    if (note.b64 - offset > 0) {\r\n                        r.push(...makeRestNoteInfoSplitRest(yfix ? null : note.note[0], offset, note.b64 - offset));\r\n                    }\r\n                    note.duration = b64ToDuration(note.length);\r\n                    r.push(note);\r\n                    offset = note.endB64 + 1;\r\n                    return r;\r\n                }, []);\r\n                if (offset < offsetEnd) {\r\n                    if (newVoice.length) {\r\n                        newVoice.push(...makeRestNoteInfoSplitRest(yfix ? null : newVoice[newVoice.length - 1].note[0], offset, offsetEnd - offset));\r\n                    }\r\n                    else {\r\n                        newVoice.push(...makeRestNoteInfoSplitRest(null, li * fb64, fb64));\r\n                    }\r\n                }\r\n                voice.length = 0;\r\n                voice.push(...newVoice);\r\n            });\r\n        });\r\n        return line;\r\n    });\r\n}\r\nfunction drawNotation(vexflowData, options) {\r\n    let { startBarNum, partGap, noteC, bpm, trackLength, topMargin, leftMargin, measureWidth, groupGap } = options;\r\n    let groupYC = 0;\r\n    startBarNum = startBarNum || 1;\r\n    let el = document[\"rootElement\"];\r\n    while (el.firstChild) {\r\n        el.removeChild(el.firstChild);\r\n    }\r\n    let renderer = new VF.Renderer(el, el.tagName == \"CANVAS\" ? VF.Renderer.Backends.CANVAS : VF.Renderer.Backends.SVG);\r\n    let keySignature = \"C\";\r\n    let keyDiff = [];\r\n    let context = renderer.getContext();\r\n    context.setFont(\"Arial\", 10, \"\").setBackgroundFillStyle(\"#eed\");\r\n    vexflowData.forEach((line, li) => {\r\n        line.forEach(bar => {\r\n            bar.forEach(voice => {\r\n                voice.forEach(note => {\r\n                    note.staveNote = createStaveNote(note, keyDiff[li]);\r\n                });\r\n            });\r\n        });\r\n    });\r\n    let voiceMax = 0;\r\n    let barMax = vexflowData[0].length;\r\n    let lineMax = vexflowData.length;\r\n    let beamsList = [];\r\n    let stavesList = [];\r\n    let tiesList = [];\r\n    renderer.resize(measureWidth * 4 + leftMargin + 20, (Math.ceil(barMax / 4) * (lineMax * groupGap + partGap)) + topMargin);\r\n    vexflowData = vexflowData.map((line, li) => {\r\n        let staves = [];\r\n        let ties = [];\r\n        line = line.map(bar => {\r\n            if (bar.length > voiceMax) {\r\n                voiceMax = bar.length;\r\n            }\r\n            return bar.map(voice => {\r\n                let notes = voice.map(note => {\r\n                    if (note.tieTail) {\r\n                        ties.push(new VF.StaveTie({\r\n                            first_note: note.staveNote,\r\n                            last_note: note.tieTail.staveNote,\r\n                            first_indices: [0],\r\n                            last_indices: [0]\r\n                        }));\r\n                    }\r\n                    return note.staveNote;\r\n                });\r\n                return new VF.Voice({ num_beats: 4, beat_value: 4 }).addTickables(notes).setMode(VF.Voice.Mode.SOFT);\r\n            });\r\n        });\r\n        for (let bi = 0; bi < barMax; bi++) {\r\n            let bar = line[bi] || [new VF.Voice({ num_beats: 4, beat_value: 4 }).addTickables([new VF.StaveNote({ keys: [\"a/4\"], duration: \"1r\" })])];\r\n            let stave = new VF.Stave((bi % 4) * measureWidth + leftMargin, (Math.floor(bi / 4) * (lineMax * groupGap + partGap)) + (li * groupGap) + topMargin, measureWidth);\r\n            staves.push(stave);\r\n            if (bi % 4 == 0) {\r\n                if (li % 2 == 0)\r\n                    stave.addClef(\"treble\");\r\n                else\r\n                    stave.addClef(\"bass\");\r\n                stave.addKeySignature(keySignature);\r\n                if (bi == 0)\r\n                    stave.addTimeSignature(\"4/4\");\r\n                if (li == 0) {\r\n                    stave.setText(bi + startBarNum, VF.StaveModifier.Position.LEFT, {\r\n                        shift_x: -15,\r\n                        shift_y: -40\r\n                    });\r\n                    stave._isStartMeasure = true;\r\n                }\r\n            }\r\n            if (li == 0 && bi == 0) {\r\n                stave.setTempo({ duration: '4', bpm: bpm }, -20);\r\n            }\r\n            stave.setContext(context).draw();\r\n            bar.forEach(voice => {\r\n                beamsList.push(VF.Beam.applyAndGetBeams(voice));\r\n            });\r\n            new VF.Formatter()\r\n                .joinVoices(bar)\r\n                .formatToStave(bar, stave);\r\n            bar.forEach((voice, vi) => {\r\n                voice.draw(context, stave);\r\n            });\r\n        }\r\n        ties.forEach(t => t.setContext(context).draw());\r\n        stavesList.push(staves);\r\n        tiesList.push(ties);\r\n        return line;\r\n    });\r\n    let connectorList = [];\r\n    if (lineMax > 1) {\r\n        for (let i = 0; i < barMax; i += 4) {\r\n            let sc = new VF.StaveConnector(stavesList[0][i], stavesList[lineMax - 1][i]);\r\n            sc.setType(VF.StaveConnector.type.BRACE);\r\n            sc.setContext(context).draw();\r\n        }\r\n    }\r\n    beamsList.forEach(beams => beams.forEach(beam => beam.setContext(context).draw()));\r\n    function redraw() {\r\n        let i, j;\r\n        context.clear();\r\n        for (i = 0; i < stavesList.length; i++) {\r\n            for (j = 0; j < stavesList[i].length; j++) {\r\n                stavesList[i][j].draw();\r\n            }\r\n        }\r\n        for (i = 0; i < connectorList.length; i++) {\r\n            for (j = 0; j < connectorList[i].length; j++) {\r\n                connectorList[i][j].draw();\r\n            }\r\n        }\r\n        vexflowData.forEach(line => {\r\n            line.forEach(bar => {\r\n                bar.forEach(voice => voice.draw(context));\r\n            });\r\n        });\r\n        for (i = 0; i < tiesList.length; i++) {\r\n            for (j = 0; j < tiesList[i].length; j++) {\r\n                tiesList[i][j].draw();\r\n            }\r\n        }\r\n        for (i = 0; i < beamsList.length; i++) {\r\n            for (j = 0; j < beamsList[i].length; j++) {\r\n                beamsList[i][j].draw();\r\n            }\r\n        }\r\n    }\r\n    return {\r\n        renderer: renderer,\r\n        context: context,\r\n        stavesList: stavesList,\r\n        connectorList: connectorList,\r\n        tiesList: tiesList,\r\n        beamsList: beamsList,\r\n        voiceList: vexflowData,\r\n        redraw: redraw\r\n    };\r\n}\r\nfunction clearDrawNote(staveNote) {\r\n    if (staveNote._el && staveNote._el.parentElement) {\r\n        staveNote._el.parentElement.removeChild(staveNote._el);\r\n        staveNote._el = null;\r\n    }\r\n}\r\nfunction drawNote(staveNote, style) {\r\n    clearDrawNote(staveNote);\r\n    staveNote._el = staveNote.context.openGroup('stavenote-highlight', staveNote.getAttribute('id'));\r\n    staveNote.setStyle(style);\r\n    staveNote.context.openGroup('note', null, { pointerBBox: false });\r\n    if (staveNote.hasStem() && !staveNote.beam) {\r\n        staveNote.drawStem();\r\n        if (staveNote.flag) {\r\n            staveNote.flag.setStyle(style);\r\n            staveNote.drawFlag();\r\n        }\r\n    }\r\n    staveNote.drawNoteHeads();\r\n    staveNote.context.closeGroup();\r\n    staveNote.drawModifiers();\r\n    staveNote.context.closeGroup();\r\n}\r\nfunction clearDrawBeam(staveNote) {\r\n    if (staveNote.beam) {\r\n        if (staveNote.beam._el && staveNote.beam._el.parentElement) {\r\n            staveNote.beam._el.parentElement.removeChild(staveNote.beam._el);\r\n            staveNote.beam._el = null;\r\n        }\r\n    }\r\n}\r\nfunction drawBeam(staveNote, style) {\r\n    if (staveNote.beam) {\r\n        clearDrawBeam(staveNote);\r\n        staveNote.beam._el = staveNote.context.openGroup('beam');\r\n        staveNote.context.setFillStyle(style.fillStyle);\r\n        staveNote.context.setStrokeStyle(\"none\");\r\n        staveNote.beam.drawBeamLines();\r\n        staveNote.context.closeGroup();\r\n    }\r\n}\r\nfunction clearDrawBeamStem(staveNote) {\r\n    if (staveNote._beamStem_el && staveNote._beamStem_el.parentElement) {\r\n        staveNote._beamStem_el.parentElement.removeChild(staveNote._beamStem_el);\r\n        staveNote._beamStem_el = null;\r\n    }\r\n}\r\nfunction drawBeamStem(staveNote, style) {\r\n    if (staveNote.beam && staveNote.hasStem()) {\r\n        clearDrawBeamStem(staveNote);\r\n        staveNote._beamStem_el = staveNote.context.openGroup('beam-stem');\r\n        staveNote.stem.setStyle(style);\r\n        staveNote.stem.draw();\r\n        staveNote.context.closeGroup();\r\n    }\r\n}\r\nfunction drawNoteOn(staveNote, just) {\r\n    drawNote(staveNote, fillRed);\r\n    if (staveNote.beam) {\r\n        if (just || staveNote.beam.notes[0] === staveNote) {\r\n            drawBeam(staveNote, fillRed);\r\n            staveNote.beam._highlighted = true;\r\n        }\r\n        drawBeamStem(staveNote, fillRed);\r\n    }\r\n}\r\nfunction drawNoteOff(staveNote, just) {\r\n    clearDrawNote(staveNote);\r\n    if (staveNote.beam) {\r\n        clearDrawBeamStem(staveNote);\r\n        if (just || staveNote.beam.notes[staveNote.beam.notes.length - 1] === staveNote) {\r\n            clearDrawBeam(staveNote);\r\n            staveNote.beam._highlighted = false;\r\n        }\r\n    }\r\n}\r\nlet noteOnList = {};\r\nfunction clearNoteOnList() {\r\n    for (let i in noteOnList) {\r\n        if (noteOnList[i].isOn) {\r\n            noteOff(noteOnList[i], true);\r\n        }\r\n        delete noteOnList[i];\r\n    }\r\n}\r\nfunction noteOn(note) {\r\n    if (!note.isOn) {\r\n        for (let i in noteOnList) {\r\n            if (noteOnList[i].endB64 < note.b64) {\r\n                if (noteOnList[i].isOn) {\r\n                    noteOff(noteOnList[i], true);\r\n                }\r\n                delete noteOnList[i];\r\n            }\r\n        }\r\n        noteOnList[note.id] = note;\r\n        try {\r\n            drawNoteOn(note.staveNote);\r\n            note.isOn = true;\r\n        }\r\n        catch (e) {\r\n            console.error(note, e);\r\n        }\r\n    }\r\n}\r\nfunction noteOff(note, just) {\r\n    if (note.isOn || (just && note.staveNote.beam && note.staveNote.beam._highlighted)) {\r\n        delete noteOnList[note.id];\r\n        drawNoteOff(note.staveNote, just);\r\n        note.isOn = false;\r\n    }\r\n}\r\nlet t64;\r\nlet defaultDrawOption = {\r\n    topMargin: 80,\r\n    leftMargin: 50,\r\n    measureWidth: 299,\r\n    groupGap: 140,\r\n    partGap: 70\r\n};\r\nfunction create(data, options) {\r\n    console.error(\"data\", data);\r\n    let lineList = convertToVexFlowData(data.data);\r\n    options = Object.assign({}, defaultDrawOption, options);\r\n    options.bpm = data.bpm;\r\n    options.noteC = data.nodeLength * 2;\r\n    options.trackLength = data.data.length;\r\n    let ctx = drawNotation(lineList, options).context;\r\n    t64 = Tone.Time(\"64n\").toSeconds();\r\n    let sync = createSync({ scrollContainer: options.scroll ? document[\"rootElement\"] : null });\r\n    sync.setContext(ctx);\r\n    sync.setLineList(lineList);\r\n    return sync;\r\n}\r\nlet scrollOffset = 0;\r\nlet scrollDuration = 500;\r\nfunction scrollToStave(con, staveY) {\r\n    if ((con.scrollTop > staveY - scrollOffset || con.scrollTop <= staveY - scrollOffset - (window.innerHeight - 500))) {\r\n        con.scrollTo(0, staveY - scrollOffset);\r\n    }\r\n}\r\nfunction createSync(opt) {\r\n    opt = opt || {};\r\n    let startNote, currentStave;\r\n    let isScrolling = !!opt.scrollContainer;\r\n    let part = new Tone.Part((time, note) => {\r\n        Tone.Draw.schedule(() => {\r\n            if (!part._stopped) {\r\n                if (startNote) {\r\n                    if (startNote === note) {\r\n                        startNote = null;\r\n                        clearNoteOnList();\r\n                    }\r\n                    else {\r\n                        return;\r\n                    }\r\n                }\r\n                noteOn(note);\r\n                if (isScrolling && note.staveNote.stave && note.staveNote.stave._isStartMeasure && currentStave != note.staveNote.stave) {\r\n                    scrollToStave(opt.scrollContainer, note.staveNote.stave.y);\r\n                    currentStave = note.staveNote.stave;\r\n                }\r\n            }\r\n        }, time);\r\n    });\r\n    part._stopped = true;\r\n    let offPart = new Tone.Part((time, note) => {\r\n        Tone.Draw.schedule(() => {\r\n            if (!part._stopped) {\r\n                noteOff(note);\r\n            }\r\n        }, time);\r\n    });\r\n    let notes = [];\r\n    function setLineList(list) {\r\n        part.removeAll();\r\n        offPart.removeAll();\r\n        list.forEach(line => {\r\n            line.forEach(bar => {\r\n                bar.forEach(voice => {\r\n                    voice.forEach(note => {\r\n                        part.add(note.b64 * t64, note);\r\n                        offPart.add(note.endB64 * t64, note);\r\n                        note.id = '' + Date.now() + Math.round(Math.random() * 10000);\r\n                        notes.push(note);\r\n                        notes[note.id] = note;\r\n                    });\r\n                });\r\n            });\r\n        });\r\n    }\r\n    return {\r\n        notes: notes,\r\n        part: part,\r\n        offPart: offPart,\r\n        start: function () {\r\n            startNote = this.part.at(0).value;\r\n            this.part._stopped = false;\r\n            this.part.start(\"+0.1\");\r\n            this.offPart.start(\"+0.1\");\r\n        },\r\n        stop: function () {\r\n            startNote = null;\r\n            this.part._stopped = true;\r\n            this.part.stop();\r\n            this.offPart.stop();\r\n            Tone.Draw.cancel();\r\n            this.clear();\r\n        },\r\n        clear: function () {\r\n            notes.forEach(note => noteOff(note, true));\r\n        },\r\n        setLineList: setLineList,\r\n        setContext: function (ctx) {\r\n            this.ctx = ctx;\r\n        }\r\n    };\r\n}\r\nvar E = eval;\r\nexport var loader = (function () {\r\n    var i = 0, max, list, each, done, evalList;\r\n    function start(_list, _each, _done) {\r\n        evalList = [];\r\n        i = 0;\r\n        max = _list.length;\r\n        list = _list;\r\n        if (_done) {\r\n            each = _each;\r\n            done = _done;\r\n        }\r\n        else {\r\n            each = null;\r\n            done = _each;\r\n        }\r\n        load(list[i]);\r\n    }\r\n    function load(src) {\r\n        if (i >= max) {\r\n            console.error(\"over index\");\r\n            return;\r\n        }\r\n        console.error(\"load script:\", src);\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open(\"GET\", src, true);\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState == 4) {\r\n                if (xhr.status == 200) {\r\n                    loadComplete(E(xhr.responseText));\r\n                }\r\n                else {\r\n                    console.error(\"실패: \", xhr.status);\r\n                }\r\n            }\r\n        };\r\n        xhr.send(null);\r\n    }\r\n    function loadComplete(v) {\r\n        evalList.push(v);\r\n        if (each) {\r\n            each(i, v);\r\n        }\r\n        if (++i < max) {\r\n            load(list[i]);\r\n        }\r\n        else {\r\n            console.error(\"load complete\");\r\n            if (done)\r\n                done(evalList);\r\n        }\r\n    }\r\n    return {\r\n        load: start\r\n    };\r\n})();\r\nexport function ready(data, opt) {\r\n    function go(instName) {\r\n        console.error(\"start loading\");\r\n        if (!opt)\r\n            opt = {};\r\n        opt.instrument = instName;\r\n        opt.autoStart = true;\r\n        loadAndInit(data, opt);\r\n    }\r\n    if (opt && opt.instrument) {\r\n        msg(\"악보 연주가 가능한 모드입니다. 페이지를 클릭하면 연주를 시작합니다.\");\r\n        document[\"rootElement\"].addEventListener(\"click\", function rootClick() {\r\n            document[\"rootElement\"].removeEventListener(\"click\", rootClick);\r\n            go(opt.instrument);\r\n        });\r\n    }\r\n    else {\r\n        msg(\"악기 목록 로딩중..\");\r\n        loader.load([\"http://gleitz.github.io/midi-js-soundfonts/MusyngKite/names.json\"], function (evalList) {\r\n            msg(\"악기를 선택하면 연주를 시작합니다.\");\r\n            var instList = evalList[0];\r\n            var sx = 10, x = sx, y = 10, gapX = 10, gapY = 10, limitX = 1200;\r\n            var g = createNSElement(\"g\", { x: 0, y: 45 });\r\n            var bgRect = createNSElement(\"rect\", { x: 0, y: 0, width: 1200, height: 25, fill: \"gray\", stroke: \"black\" }, g);\r\n            instList.forEach(name => {\r\n                var btn = createButton(name, { x: x, y: y, click: function () {\r\n                        g.parentElement.removeChild(g);\r\n                        go(name);\r\n                    } }, g);\r\n                var rect = btn.getBoundingClientRect();\r\n                if (x + rect.width > limitX) {\r\n                    x = sx;\r\n                    y += rect.height + gapY;\r\n                    btn.setAttribute(\"transform\", `translate(${x},${y})`);\r\n                    x += rect.width + gapX;\r\n                    bgRect.setAttribute(\"height\", y + 25 + '');\r\n                }\r\n                else {\r\n                    x += rect.width + gapX;\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\nexport function loadAndInit(data, opt) {\r\n    console.error(\"loadAndInit\", version);\r\n    load(function () {\r\n        init(data, opt);\r\n    });\r\n}\r\nexport function load(done) {\r\n    var scripts = [\r\n        \"https://cdnjs.cloudflare.com/ajax/libs/tone/13.8.10/Tone.min.js\",\r\n        \"https://cdnjs.cloudflare.com/ajax/libs/vexflow/1.2.89/vexflow-min.js\"\r\n    ];\r\n    loader.load(scripts, function (i) {\r\n        msg(\"스크립트 로딩(\" + i + \")\");\r\n    }, done);\r\n}\r\nvar ns = \"http://www.w3.org/2000/svg\";\r\nvar progressText;\r\nfunction createNSElement(tagName, attr, parant) {\r\n    var el = document.createElementNS(ns, tagName);\r\n    if (attr) {\r\n        for (var o in attr) {\r\n            if (o == \"text\") {\r\n                el.textContent = attr[o];\r\n            }\r\n            else {\r\n                el.setAttribute(o, attr[o]);\r\n            }\r\n        }\r\n    }\r\n    (parant || document[\"rootElement\"]).appendChild(el);\r\n    return el;\r\n}\r\nexport function msg(str) {\r\n    if (!progressText)\r\n        progressText = createNSElement(\"text\", { x: 100, y: 18, fill: \"#000\" });\r\n    setTimeout(function () {\r\n        console.info(\"progress:\", str);\r\n        progressText.textContent = \"v\" + version + \" \" + str;\r\n    });\r\n}\r\nexport function base64ToFloat32Array(dataURI) {\r\n    var base64Index = dataURI.indexOf(BASE64_MARKER) + BASE64_MARKER.length;\r\n    var base64 = dataURI.substring(base64Index);\r\n    var blob = window.atob(base64), fLen = blob.length / Float32Array.BYTES_PER_ELEMENT, dView = new DataView(new ArrayBuffer(Float32Array.BYTES_PER_ELEMENT)), fAry = new Float32Array(fLen), p = 0;\r\n    for (var j = 0; j < fLen; j++) {\r\n        p = j * 4;\r\n        dView.setUint8(0, blob.charCodeAt(p));\r\n        dView.setUint8(1, blob.charCodeAt(p + 1));\r\n        dView.setUint8(2, blob.charCodeAt(p + 2));\r\n        dView.setUint8(3, blob.charCodeAt(p + 3));\r\n        fAry[j] = dView.getFloat32(0, true);\r\n    }\r\n    return fAry;\r\n}\r\nexport function base64ToBuffer(dataURI) {\r\n    var base64Index = dataURI.indexOf(BASE64_MARKER) + BASE64_MARKER.length;\r\n    var base64 = dataURI.substring(base64Index);\r\n    var binary = window.atob(base64);\r\n    var buffer = new ArrayBuffer(binary.length);\r\n    var bytes = new Uint8Array(buffer);\r\n    for (var i = 0; i < buffer.byteLength; i++) {\r\n        bytes[i] = binary.charCodeAt(i) & 0xFF;\r\n    }\r\n    return bytes;\r\n}\r\n;\r\nvar BASE64_MARKER = ';base64,';\r\nexport function convertDataURIToBinary(dataURI) {\r\n    var base64Index = dataURI.indexOf(BASE64_MARKER) + BASE64_MARKER.length;\r\n    var base64 = dataURI.substring(base64Index);\r\n    var raw = window.atob(base64);\r\n    var rawLength = raw.length;\r\n    var array = new Uint8Array(new ArrayBuffer(rawLength));\r\n    for (var i = 0; i < rawLength; i++) {\r\n        array[i] = raw.charCodeAt(i);\r\n    }\r\n    return array;\r\n}\r\nexport function getSoundfontUrl(name, sf, format) {\r\n    format = format === 'ogg' ? format : 'mp3';\r\n    sf = sf === 'FluidR3_GM' ? sf : 'MusyngKite';\r\n    return 'https://gleitz.github.io/midi-js-soundfonts/' + sf + '/' + name + '-' + format + '.js';\r\n}\r\nfunction createButton(text, opt, parent) {\r\n    opt = opt || {};\r\n    var g = createNSElement(\"g\", { transform: `translate(${opt.x || 0},${opt.y || 0})` }, parent);\r\n    var txt = createNSElement(\"text\", { x: 0, y: 0, text: text, fill: opt.color || \"black\" }, g);\r\n    var r = txt.getBBox();\r\n    txt.setAttribute(\"pointer-events\", \"none\");\r\n    var rect = createNSElement(\"rect\", { x: r.x, y: r.y, width: r.width, height: r.height, fill: opt.fill || \"white\", stroke: opt.stroke || \"black\" }, g);\r\n    rect.style.cursor = \"pointer\";\r\n    g.insertBefore(rect, txt);\r\n    g._text = txt;\r\n    g._rect = rect;\r\n    if (opt.click) {\r\n        g.addEventListener(\"click\", opt.click);\r\n    }\r\n    return g;\r\n}\r\nvar synth;\r\nexport function init(data, opt) {\r\n    VF = Vex.Flow;\r\n    console.error(\"start tone setting\");\r\n    Tone.Transport.bpm.value = data.bpm;\r\n    var playData, totalTime, parts, btn, highlight;\r\n    var playSynthFunc;\r\n    if (opt && opt.synth && opt.playSynthFunc) {\r\n        synth = opt.synth;\r\n        playSynthFunc = opt.playSynthFunc;\r\n        ready();\r\n    }\r\n    else {\r\n        msg(\"악기 로딩중...\");\r\n        let instName = (opt && opt.instrument) ? opt.instrument : \"acoustic_grand_piano\";\r\n        loader.load([\r\n            \"https://gleitz.github.io/midi-js-soundfonts/MusyngKite/\" + instName + \"-mp3.js\"\r\n        ], function () {\r\n            let sample = {};\r\n            let base64Sample = window['MIDI'].Soundfont[instName];\r\n            for (let note in base64Sample) {\r\n                sample[downConvertNote(note)] = URL.createObjectURL(new Blob([convertDataURIToBinary(base64Sample[note])], { type: 'audio/mp3' }));\r\n            }\r\n            synth = new Tone.Players(sample, function () {\r\n                ready();\r\n            }).toMaster();\r\n            playSynthFunc = function (synth, noteInfo, time) {\r\n                for (var i = 0; i < noteInfo.notes.length; i++) {\r\n                    synth.get(noteInfo.notes[i]).start(time, 0, noteInfo.durations[i]);\r\n                }\r\n            };\r\n        });\r\n    }\r\n    function createPlayBtn(callback) {\r\n        var g = createButton(\"재생/정지\", { x: 10, y: 20 });\r\n        g.addEventListener(\"click\", callback);\r\n        g.setColor = function (color) {\r\n            g._rect.style.fill = color;\r\n        };\r\n        g.activeColor = function () {\r\n            g._rect.style.fill = \"rgb(53, 236, 31)\";\r\n        };\r\n        g.deactiveColor = function () {\r\n            g._rect.style.fill = \"rgb(238, 51, 25)\";\r\n        };\r\n        return g;\r\n    }\r\n    function getTotalTime(playData) {\r\n        var max = 0;\r\n        playData.forEach(function (events) {\r\n            var last = events[events.length - 1];\r\n            var maxDu = 0;\r\n            last[1].durations.forEach(function (d) {\r\n                if (d > maxDu) {\r\n                    maxDu = d;\r\n                }\r\n            });\r\n            if (last[0] + maxDu > max) {\r\n                max = last[0] + maxDu;\r\n            }\r\n        });\r\n        return max;\r\n    }\r\n    var isReady;\r\n    function tick(noteInfo, time) {\r\n        playSynthFunc(synth, noteInfo, time);\r\n    }\r\n    function ready() {\r\n        console.error(\"ready\");\r\n        msg(\"악보 변환중...\");\r\n        opt = opt || {};\r\n        opt.scroll = true;\r\n        highlight = create(data, opt);\r\n        msg(\"재생 데이터 변환중...\");\r\n        playData = createPlayData(data);\r\n        totalTime = getTotalTime(playData);\r\n        console.error(\"totalTime\", totalTime);\r\n        msg(\"스케쥴 생성중...\");\r\n        parts = schedule(playData, tick);\r\n        isReady = true;\r\n        msg(\"재생준비 완료!\");\r\n        btn = createPlayBtn(play);\r\n        btn.activeColor();\r\n        if (opt.autoStart) {\r\n            play();\r\n        }\r\n    }\r\n    function stop() {\r\n        if (!isReady)\r\n            return;\r\n        if (btn)\r\n            btn.activeColor();\r\n        console.error(\"stop\");\r\n        highlight.stop();\r\n        parts.forEach(part => part.stop());\r\n        Tone.Transport.stop();\r\n        Tone.Transport.clear(endScheduleId);\r\n    }\r\n    var endScheduleId;\r\n    function play() {\r\n        if (!isReady)\r\n            return;\r\n        if (Tone.Transport.state == \"started\") {\r\n            stop();\r\n        }\r\n        else {\r\n            stop();\r\n            console.error(\"play\");\r\n            if (btn)\r\n                btn.deactiveColor();\r\n            parts.forEach(part => {\r\n                part.start(\"+0.1\");\r\n            });\r\n            highlight.start();\r\n            endScheduleId = Tone.Transport.schedule(function (time) {\r\n                stop();\r\n            }, \"+\" + (totalTime + 0.5));\r\n            Tone.Transport.start(\"+0.5\");\r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":""}